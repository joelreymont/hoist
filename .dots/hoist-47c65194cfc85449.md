---
title: Implement manual lowering for basic IR instructions
status: closed
priority: 2
issue-type: task
created-at: "2026-01-07T08:22:38.067668+02:00"
closed-at: "2026-01-07T08:23:35.642641+02:00"
---

File: src/generated/aarch64_lower_generated.zig. Replace stub with manual lowering for: iconst (movz/movk), iadd (add_rr), isub (sub_rr), imul (mul_rr), load (ldr), store (str), br (b), brif (cmp + b.cond), ret. Each pattern: match IR opcode â†’ emit VCode instructions via ctx.emit(). Bypasses ISLE compiler. Enables end-to-end testing. ~300-400 lines. Pattern: match on inst.op(), get operands, allocate regs, emit instructions.
