---
title: Port cranelift-entity crate to Zig
status: closed
priority: 1
issue-type: task
created-at: "2026-01-01T00:49:38.347037+02:00"
closed-at: "2026-01-01T01:03:38.561829+02:00"
close-reason: "Done: entity.zig 124 LOC"
---

Foundation for all entity indexing. Files: ../wasmtime/cranelift/entity/src/{primary.rs,map.rs,list.rs,sparse.rs,keys.rs,set.rs,iter.rs,packed_option.rs}. Port: PrimaryMap (dense key->value), SecondaryMap (sparse with default), EntityList (pool-allocated lists), SparseMap, EntitySet. ~2k LOC Rust -> ~1.5k LOC Zig. BLOCKS ALL OTHER WORK.
