---
title: Implement main allocation loop
status: closed
priority: 2
issue-type: task
created-at: "2026-01-06T11:00:28.344449+02:00"
closed-at: "2026-01-06T22:42:50.368382+02:00"
---

File: src/regalloc/linear_scan.zig - In allocate(): iterate sorted ranges, call expireOldIntervals(range.start), call tryAllocateReg. If succeeds, record vreg->preg mapping. If fails, mark for spilling (see spill dot). Build RegAllocResult from mappings. Dependencies: hoist-47b4670d4ec5abab, hoist-47b46780e6a95891, hoist-47b467d9220a3a35.
