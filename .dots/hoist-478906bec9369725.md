---
title: "P2.1h: Add FMA shuffle fusion patterns"
status: closed
priority: 2
issue-type: task
created-at: "2026-01-04T07:15:09.522258+02:00"
closed-at: "2026-01-04T07:46:35.352019+02:00"
---

File: src/backends/aarch64/lower.isle:1960. Add 6 FMA fusion rules using shuffle32/64_from_imm extractors. Copy from Cranelift lines 240-272. Call vec_fmla_lane/vec_fmls_lane constructors. 40min. Depends: P2.1g.
