---
title: Implement valid_ldr_imm_offset extractor
status: closed
priority: 2
issue-type: task
created-at: "2026-01-04T05:50:54.491462+02:00"
closed-at: "2026-01-04T05:53:01.692527+02:00"
---

File: src/backends/aarch64/isle_helpers.zig - Add extractor that validates load immediate offset fits AArch64 LDR constraints (scaled offset based on access size). For I8: unscaled -256 to 255, I16: 0-8190 (even), I32: 0-16380 (div by 4), I64: 0-32760 (div by 8). Returns offset if valid, null otherwise. Signature: pub fn valid_ldr_imm_offset(ty: Type, offset: i64) ?i64
