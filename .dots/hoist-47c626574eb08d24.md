---
title: Add IR→VCode lowering snapshot tests
status: closed
priority: 2
issue-type: task
created-at: "2026-01-07T08:10:32.616636+02:00"
closed-at: "2026-01-07T08:15:23.511844+02:00"
---

File: src/backends/aarch64/lower_snapshot_test.zig (~150 lines). Use ohsnap to snapshot test IR instruction lowering to VCode. Test: iconst, iadd, imul, load, store, br, brif, ret. Each test: build IR inst → lower → snapshot VCode. Doesn't require regalloc or emission. Pattern: test_snapshot/aarch64/iconst.snap, etc.
