---
title: Add ABI prologue/epilogue snapshot tests
status: closed
priority: 2
issue-type: task
created-at: "2026-01-07T08:13:51.491096+02:00"
closed-at: "2026-01-07T08:16:48.306715+02:00"
---

File: src/backends/aarch64/abi_prologue_test.zig (~150 lines). Snapshot test frame setup/teardown. Use MockABI with various configs (no locals, with locals, callee-saves, large frame). Call genPrologue()/genEpilogue() â†’ snapshot VCode sequence. Verifies: FP+LR save, SP adjustment, callee-save pairs, FP setup for large frames. Depends on: MockABI (exists).
