---
title: Implement peephole constant checks
status: closed
priority: 2
issue-type: task
created-at: "2026-01-04T01:54:19.892992+02:00"
closed-at: "2026-01-04T02:05:05.049683+02:00"
---

File: src/codegen/opts/peephole.zig:199,215,224 - isZero/isOne/isAllOnes return false, breaking many optimizations - Can use same pattern as strength.zig:135 to extract Imm64 from unary_imm - Enables: x*1=x, x&-1=x, x|0=x, etc - Pattern available in strength.zig getPowerOfTwo
