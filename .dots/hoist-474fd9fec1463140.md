---
title: "analysis: dominators"
status: closed
priority: 2
issue-type: task
created-at: "\"2026-01-01T11:02:25.603919+02:00\""
closed-at: "\"2026-01-01T17:06:26.520447+02:00\""
close-reason: "\"completed: src/ir/domtree.zig with DominatorTree (idom tracking, dominates check, children), CFG representation (predecessors/successors). Includes tests for domination relationships. All tests pass.\""
blocks:
  - hoist-474fd9feaf5a3146
---

src/analysis/domtree.zig (~800 LOC)

Port from: cranelift/codegen/src/dominator_tree.rs

Dominator tree computation:
- Lengauer-Tarjan algorithm
- O(n * alpha(n)) complexity

Key operations:
- compute(cfg) -> DomTree
- idom(block) -> ?Block (immediate dominator)
- dominates(a, b) -> bool
- dom_frontier(block) -> []Block

Uses:
- SSA construction (phi placement)
- Loop detection
- Code motion legality
