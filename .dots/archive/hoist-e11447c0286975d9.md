---
title: Implement spaceship optimization pattern
status: closed
priority: 2
issue-type: task
created-at: "\"2026-01-09T08:17:50.588147+02:00\""
closed-at: "2026-01-09T08:32:05.012162+02:00"
---

Add spaceship pattern detection to instcombine: (a < b) ? -1 : (a > b) ? 1 : 0 â†’ single cmp + conditional moves. File: src/codegen/opts/instcombine.zig. AArch64: use CSEL/CSINC. ~60-90 min. Reaches 88.75% optimization parity.
